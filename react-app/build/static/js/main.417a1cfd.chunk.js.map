{"version":3,"sources":["resources/north-west-gate.jpg","resources/north-east-gate.jpg","resources/north-gate.jpg","resources/west-gate.jpg","resources/central-gate.jpg","resources/east-gate.jpg","resources/south-west-gate.jpg","resources/south-gate.jpg","resources/south-east-gate.jpg","Logger.js","components/BaseMap.js","components/MapLayer.js","components/Login.js","components/MapList.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Logger","instance","this","componentName","constructor","name","args","splice","console","log","apply","error","BaseMap","props","alt","src","onLoad","e","onImageLoad","target","MapLayer","logger","r1","r2","density","overlay","baseMapImage","onMouseMove","bind","onMouseDown","onMouseUp","getDataImage","contextFog","canvasFog","getContext","width","height","fillStyle","fillRect","globalCompositeOperation","preventDefault","isRemoveFog","canvasPrint","document","createElement","contextPrint","drawImage","toDataURL","ev","ev2","pX","pageX","pY","pageY","getMapRadialGradient","radGrd","createRadialGradient","addColorStop","image","initContextMap","className","id","ref","Component","Login","state","username","password","isAuth","onSubmit","logout","fetch","method","headers","body","JSON","stringify","then","response","status","text","data","setState","onLoginSuccess","onClick","value","onChange","type","MapList","list","northWestGate","northGate","northEastGate","eastGate","centralGate","westGate","southWestGate","southGate","southEastGate","map","item","index","key","onMapSelected","App","sourceImage","remote","authType","socket","io","connect","on","remoteImage","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.417a1cfd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/north-west-gate.1fb9d39e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/north-east-gate.54300b9a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/north-gate.a2e473f2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/west-gate.7e955c33.jpg\";","module.exports = __webpack_public_path__ + \"static/media/central-gate.f33b04f9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/east-gate.7b6ef059.jpg\";","module.exports = __webpack_public_path__ + \"static/media/south-west-gate.7e955c33.jpg\";","module.exports = __webpack_public_path__ + \"static/media/south-gate.25ae3350.jpg\";","module.exports = __webpack_public_path__ + \"static/media/south-east-gate.04dfecff.jpg\";","export default class Logger {\n\n\tconstructor(instance) {\n\t\tthis.componentName = typeof instance === \"string\" ? instance : instance.constructor.name;\n\t}\n\n\tlog(...args) {\n\t\targs.splice(0, 0, \"-\");\n\t\targs.splice(0, 0, this.componentName);\n\t\tconsole.log.apply(console, args)\n\t};\n\n\terror(...args) {\n\t\targs.splice(0, 0, \"-\");\n\t\targs.splice(0, 0, this.componentName);\n\t\tconsole.error.apply(console, args)\n\t}\n}\n","import React from \"react\";\n\nconst BaseMap = props => <img alt={props.alt} src={props.src} onLoad={e => props.onImageLoad(e.target)}/>;\n\nexport default BaseMap;\n","import React, {Component} from \"react\";\nimport Logger from \"../Logger\";\nimport BaseMap from \"./BaseMap\";\n\nexport default class MapLayer extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.logger = new Logger(\"MapLayer\");\n\t\tthis.r1 = 50;\n\t\tthis.r2 = 150;\n\t\tthis.density = .4;\n\t\tthis.overlay = 'rgba( 0, 0, 0, 1 )';\n\t\tthis.baseMapImage = null;\n\n\t\tthis.onMouseMove = this.onMouseMove.bind(this);\n\t\tthis.onMouseDown = this.onMouseDown.bind(this);\n\t\tthis.onMouseUp = this.onMouseUp.bind(this);\n\t\tthis.getDataImage = this.getDataImage.bind(this);\n\t\tthis.onImageLoad = this.onImageLoad.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.contextFog = this.canvasFog.getContext(\"2d\");\n\t}\n\n\tinitContextMap() {\n\t\tconst {width, height} = this.canvasFog;\n\t\tthis.logger.log(\"Initializing Fog...\", width, height);\n\t\t// black out the canvas\n\t\tthis.contextFog.fillStyle = this.overlay;\n\t\tthis.contextFog.fillRect(0, 0, width, height);\n\t\t// set up our \"eraser\"\n\t\tthis.contextFog.globalCompositeOperation = 'destination-out';\n\t}\n\n\tonMouseDown(e) {\n\t\te.preventDefault();\n\t\tthis.isRemoveFog = true\n\t}\n\n\tonMouseUp(e) {\n\t\te.preventDefault();\n\t\tthis.isRemoveFog = false;\n\t\t// const image = this.getDataImage();\n\t\t// this.logger.log(image);\n\t\t// this.props.socket.emit(\"upload\", image);\n\t}\n\n\tgetDataImage() {\n\t\tconst canvasPrint = document.createElement(\"canvas\");\n\t\tcanvasPrint.width = this.canvasFog.width;\n\t\tcanvasPrint.height = this.canvasFog.height;\n\t\tconst contextPrint = canvasPrint.getContext(\"2d\");\n\t\tcontextPrint.drawImage(this.baseMapImage, 0, 0);\n\t\tcontextPrint.drawImage(this.canvasFog, 0, 0);\n\t\treturn canvasPrint.toDataURL('image/png');\n\t}\n\n\tonMouseMove(ev, ev2) {\n\t\tif (this.isRemoveFog) {\n\t\t\tev2 && (ev = ev2);\n\n\t\t\tconst pX = ev.pageX\n\t\t\t\t, pY = ev.pageY;\n\n\t\t\t// reveal wherever we drag\n\t\t\tthis.contextFog.fillStyle = this.getMapRadialGradient(pX, pY);\n\t\t\tthis.contextFog.fillRect(pX - this.r2, pY - this.r2, this.r2 * 2, this.r2 * 2);\n\t\t}\n\t}\n\n\tgetMapRadialGradient(pX, pY) {\n\t\tlet radGrd = this.contextFog.createRadialGradient(pX, pY, this.r1, pX, pY, this.r2);\n\t\tradGrd.addColorStop(0, 'rgba( 0, 0, 0,  1 )');\n\t\tradGrd.addColorStop(this.density, 'rgba( 0, 0, 0, .1 )');\n\t\tradGrd.addColorStop(1, 'rgba( 0, 0, 0,  0 )');\n\t\treturn radGrd;\n\t}\n\n\tonImageLoad(image) {\n\t\tthis.baseMapImage = image;\n\t\tconst {width, height} = image;\n\t\tthis.canvasFog.width = width;\n\t\tthis.canvasFog.height = height;\n\t\tthis.initContextMap();\n\t}\n\n\trender() {\n\t\tconst {image} = this.props;\n\t\treturn (\n\t\t\t<div className={\"map\"}>\n\t\t\t\t<BaseMap alt={\"Baldur's Gate\"} src={image} onImageLoad={this.onImageLoad}/>\n\t\t\t\t<canvas id={\"canvas-fog\"} ref={ref => this.canvasFog = ref} onMouseDown={this.onMouseDown} onMouseUp={this.onMouseUp} onMouseMove={this.onMouseMove}/>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import React, {Component} from \"react\";\nimport Logger from \"../Logger\";\n\nexport default class Login extends Component {\n\n\tstate = {\n\t\tusername: \"\",\n\t\tpassword: \"\",\n\t\tisAuth: false\n\t};\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.logger = new Logger(\"Login\");\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.logout = this.logout.bind(this);\n\t}\n\n\tonSubmit(e) {\n\t\te.preventDefault();\n\t\tthis.logger.log(\"Submitting login...\", this.state);\n\t\tfetch('/login', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify(this.state)\n\t\t}).then(response => {\n\t\t\tif (response.status === 200) {\n\t\t\t\treturn response.text()\n\t\t\t}\n\t\t\treturn \"\"\n\t\t}).then(data => {\n\t\t\tthis.logger.log(data);\n\t\t\tthis.setState({isAuth: !!data});\n\t\t\tthis.props.onLoginSuccess && this.props.onLoginSuccess(data);\n\t\t});\n\t}\n\n\tlogout(e) {\n\t\tthis.logger.log(\"Logging out\");\n\t\tthis.setState({isAuth: false});\n\t}\n\n\trender() {\n\t\tconst {username, password, isAuth} = this.state;\n\t\tif (isAuth) {\n\t\t\treturn (\n\t\t\t\t<div className={\"component-login\"}>\n\t\t\t\t\t<button onClick={this.logout}>Logout</button>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn (\n\t\t\t<div className={\"component-login\"}>\n\t\t\t\t<form onSubmit={this.onSubmit}>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span>Username</span>\n\t\t\t\t\t\t<input value={username} onChange={e => this.setState({username: e.target.value})}/>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<span>Password</span>\n\t\t\t\t\t\t<input value={password} onChange={e => this.setState({password: e.target.value})}/>\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type={\"submit\"} value={\"Login\"}/>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n","import React, {Component} from \"react\";\nimport northWestGate from \"../resources/north-west-gate.jpg\";\nimport northEastGate from \"../resources/north-east-gate.jpg\";\nimport northGate from \"../resources/north-gate.jpg\";\nimport westGate from \"../resources/west-gate.jpg\";\nimport centralGate from \"../resources/central-gate.jpg\";\nimport eastGate from \"../resources/east-gate.jpg\";\nimport southWestGate from \"../resources/south-west-gate.jpg\";\nimport southGate from \"../resources/south-gate.jpg\";\nimport southEastGate from \"../resources/south-east-gate.jpg\";\n\nexport default class MapList extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.list = [\n\t\t\t{alt: \"North West Gate\", src: northWestGate},\n\t\t\t{alt: \"North Gate\", src: northGate},\n\t\t\t{alt: \"North Est Gate\", src: northEastGate},\n\t\t\t{alt: \"Est Gate\", src: eastGate},\n\t\t\t{alt: \"Central Gate\", src: centralGate},\n\t\t\t{alt: \"West Gate\", src: westGate},\n\t\t\t{alt: \"South West Gate\", src: southWestGate},\n\t\t\t{alt: \"South Gate\", src: southGate},\n\t\t\t{alt: \"South East Gate\", src: southEastGate}\n\t\t];\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<ul>\n\t\t\t\t{this.list.map((item, index) =>\n\t\t\t\t\t<li key={index} onClick={() => this.props.onMapSelected(item)}>\n\t\t\t\t\t\t<img id={`map-${index}`} alt={item.alt} src={item.src}/>\n\t\t\t\t\t</li>\n\t\t\t\t)}\n\t\t\t</ul>\n\t\t)\n\t}\n}\n","import React, {Component} from 'react';\nimport './App.css';\nimport MapLayer from \"./components/MapLayer\";\nimport io from 'socket.io-client';\nimport Login from \"./components/Login\";\nimport Logger from \"./Logger\";\nimport MapList from \"./components/MapList\";\n\nexport default class App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.logger = new Logger(\"App\");\n\t\tthis.state = {\n\t\t\tsourceImage: null,\n\t\t\timage: null,\n\t\t\tremote: null,\n\t\t\tauthType: null\n\t\t};\n\t\tthis.socket = io.connect();\n\t\tthis.onLoginSuccess = this.onLoginSuccess.bind(this);\n\t\tthis.onMapSelected = this.onMapSelected.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.socket.on(\"image\", data => {\n\t\t\tthis.logger.log(\"Received event 'image'\", data);\n\t\t\tthis.setState({remoteImage: data})\n\t\t});\n\t}\n\n\tonLoginSuccess(data) {\n\t\tthis.setState({authType: data})\n\t}\n\n\tonMapSelected(map) {\n\t\tthis.setState({sourceImage: map.src})\n\t}\n\n\trender() {\n\t\tconst {sourceImage, remoteImage, authType} = this.state;\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Login onLoginSuccess={this.onLoginSuccess}/>\n\t\t\t\t{authType === \"master\" ?\n\t\t\t\t\t<div className={\"master-tools\"}>\n\t\t\t\t\t\t{sourceImage ? <MapLayer image={sourceImage} socket={this.socket}/> : null}\n\t\t\t\t\t\t<MapList  onMapSelected={this.onMapSelected}/>\n\t\t\t\t\t</div> : null}\n\t\t\t\t{authType === \"player\" ? <img alt={\"Loading map...\"} src={remoteImage}/> : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}